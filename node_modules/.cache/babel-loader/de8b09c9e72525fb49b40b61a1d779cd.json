{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phil\\\\OneDrive\\\\Documents\\\\reliant\\\\code\\\\narwhal-digital-reliant-wp\\\\src\\\\components\\\\SiteSearch\\\\index.js\";\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport IconMagnifyingGlass from '../../assets/svgs/icon-magnifying-glass';\n\nconst SiteSearch = props => {\n  const [searchTextVal, setSearchTextVal] = useState(``);\n  const [searchActive, setSearchActive] = useState(false);\n  const [redirectPath, setRedirectPath] = useState(\"\");\n  const {\n    location,\n    isMobile,\n    doToggleMenuIfMobile\n  } = props;\n  const inputClass = searchActive ? `active` : ``;\n\n  const searchTextChange = event => {\n    setSearchTextVal(event.target.value);\n  };\n\n  const submitForm = () => {\n    if (searchTextVal !== \"\") {\n      let submittedText = searchTextVal;\n      setSearchTextVal(\"\");\n      setRedirectPath(`/products?searchTerm=${submittedText}`); // unfocus the field so that the cursor goes away and to fix issue with ghosted field still having focus on mobile on search results page\n\n      if (document && document.activeElement) {\n        document.activeElement.blur();\n      } // close the menu on mobile\n\n\n      doToggleMenuIfMobile();\n    }\n  };\n\n  const formSubmit = event => {\n    event.preventDefault();\n    submitForm();\n  };\n\n  const renderRedirect = () => {\n    if (redirectPath !== \"\") {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: redirectPath,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 5\n        }\n      });\n    }\n  };\n\n  const searchIconClicked = () => {\n    console.log('searchIconClicked', isMobile);\n\n    if (!isMobile) {\n      setSearchActive(!searchActive);\n    } else {\n      submitForm();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, renderRedirect(), /*#__PURE__*/React.createElement(\"div\", {\n    className: `site-search ${location}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `site-search__inner`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: searchIconClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconMagnifyingGlass, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `site-search__form ${inputClass}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: ev => formSubmit(ev),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: `text`,\n    className: `site-search__input`,\n    placeholder: `Search Hardware...`,\n    onChange: ev => searchTextChange(ev),\n    value: searchTextVal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }))))));\n};\n\nexport default SiteSearch;","map":{"version":3,"sources":["C:/Users/phil/OneDrive/Documents/reliant/code/narwhal-digital-reliant-wp/src/components/SiteSearch/index.js"],"names":["React","useState","Redirect","IconMagnifyingGlass","SiteSearch","props","searchTextVal","setSearchTextVal","searchActive","setSearchActive","redirectPath","setRedirectPath","location","isMobile","doToggleMenuIfMobile","inputClass","searchTextChange","event","target","value","submitForm","submittedText","document","activeElement","blur","formSubmit","preventDefault","renderRedirect","searchIconClicked","console","log","ev"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,mBAAP,MAAgC,yCAAhC;;AAEA,MAAMC,UAAU,GAAGC,KAAK,IAAI;AAC3B,QAAM,CAAEC,aAAF,EAAiBC,gBAAjB,IAAsCN,QAAQ,CAAE,EAAF,CAApD;AACA,QAAM,CAAEO,YAAF,EAAgBC,eAAhB,IAAoCR,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAAES,YAAF,EAAgBC,eAAhB,IAAoCV,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM;AAAEW,IAAAA,QAAF;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA;AAAtB,MAA+CT,KAArD;AAEA,QAAMU,UAAU,GAAGP,YAAY,GAAI,QAAJ,GAAe,EAA9C;;AAEA,QAAMQ,gBAAgB,GAAIC,KAAD,IAAW;AACnCV,IAAAA,gBAAgB,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB;AACA,GAFD;;AAIA,QAAMC,UAAU,GAAG,MAAM;AACxB,QAAId,aAAa,KAAK,EAAtB,EAA0B;AACzB,UAAIe,aAAa,GAAGf,aAApB;AACAC,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAI,MAAAA,eAAe,CAAE,wBAAuBU,aAAc,EAAvC,CAAf,CAHyB,CAKzB;;AACA,UAAIC,QAAQ,IAAIA,QAAQ,CAACC,aAAzB,EAAwC;AACvCD,QAAAA,QAAQ,CAACC,aAAT,CAAuBC,IAAvB;AACA,OARwB,CAUzB;;;AACAV,MAAAA,oBAAoB;AACpB;AACD,GAdD;;AAgBA,QAAMW,UAAU,GAAIR,KAAD,IAAW;AAC7BA,IAAAA,KAAK,CAACS,cAAN;AACAN,IAAAA,UAAU;AACV,GAHD;;AAKA,QAAMO,cAAc,GAAG,MAAM;AAC5B,QAAIjB,YAAY,KAAK,EAArB,EAAyB;AACxB,0BACC,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAEA,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAGA;AACD,GAND;;AAQA,QAAMkB,iBAAiB,GAAG,MAAM;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCjB,QAAjC;;AACA,QAAI,CAACA,QAAL,EAAe;AACdJ,MAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACA,KAFD,MAEO;AACNY,MAAAA,UAAU;AACV;AACD,GAPD;;AASA,sBACC,0CACEO,cAAc,EADhB,eAEA;AAAK,IAAA,SAAS,EAAG,eAAcf,QAAS,EAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAG,oBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAQ,IAAA,OAAO,EAAEgB,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,eAIC;AAAK,IAAA,SAAS,EAAG,qBAAoBb,UAAW,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAM,IAAA,QAAQ,EAAGgB,EAAD,IAAQN,UAAU,CAACM,EAAD,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AACC,IAAA,IAAI,EAAG,MADR;AAEC,IAAA,SAAS,EAAG,oBAFb;AAGC,IAAA,WAAW,EAAG,oBAHf;AAIC,IAAA,QAAQ,EAAGA,EAAD,IAAQf,gBAAgB,CAACe,EAAD,CAJnC;AAKC,IAAA,KAAK,EAAEzB,aALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CAJD,CADD,CAFA,CADD;AAuBA,CAzED;;AA2EA,eAAeF,UAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport IconMagnifyingGlass from '../../assets/svgs/icon-magnifying-glass';\n\nconst SiteSearch = props => {\n\tconst [ searchTextVal, setSearchTextVal ] = useState(``);\n\tconst [ searchActive, setSearchActive ] = useState(false);\n\tconst [ redirectPath, setRedirectPath ] = useState(\"\");\n\tconst { location, isMobile, doToggleMenuIfMobile } = props;\n\n\tconst inputClass = searchActive ? `active` : ``;\n\n\tconst searchTextChange = (event) => {\n\t\tsetSearchTextVal(event.target.value);\n\t};\n\n\tconst submitForm = () => {\n\t\tif (searchTextVal !== \"\") {\n\t\t\tlet submittedText = searchTextVal;\n\t\t\tsetSearchTextVal(\"\");\n\t\t\tsetRedirectPath(`/products?searchTerm=${submittedText}`);\n\n\t\t\t// unfocus the field so that the cursor goes away and to fix issue with ghosted field still having focus on mobile on search results page\n\t\t\tif (document && document.activeElement) {\n\t\t\t\tdocument.activeElement.blur();\n\t\t\t}\n\n\t\t\t// close the menu on mobile\n\t\t\tdoToggleMenuIfMobile();\n\t\t}\n\t}\n\n\tconst formSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tsubmitForm();\n\t}\n\n\tconst renderRedirect = () => {\n\t\tif (redirectPath !== \"\") {\n\t\t\treturn (\n\t\t\t\t<Redirect to={redirectPath} />\n\t\t\t)\n\t\t}\n\t}\n\n\tconst searchIconClicked = () => {\n\t\tconsole.log('searchIconClicked', isMobile);\n\t\tif (!isMobile) {\n\t\t\tsetSearchActive(!searchActive);\n\t\t} else {\n\t\t\tsubmitForm();\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t{ renderRedirect() }\n\t\t<div className={`site-search ${location}`}>\n\t\t\t<div className={`site-search__inner`}>\n\t\t\t\t<button onClick={searchIconClicked}>\n\t\t\t\t\t<IconMagnifyingGlass />\n\t\t\t\t</button>\n\t\t\t\t<div className={`site-search__form ${inputClass}`}>\n\t\t\t\t\t<form onSubmit={(ev) => formSubmit(ev)}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype={`text`}\n\t\t\t\t\t\t\tclassName={`site-search__input`}\n\t\t\t\t\t\t\tplaceholder={`Search Hardware...`}\n\t\t\t\t\t\t\tonChange={(ev) => searchTextChange(ev)}\n\t\t\t\t\t\t\tvalue={searchTextVal}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default SiteSearch;\n"]},"metadata":{},"sourceType":"module"}