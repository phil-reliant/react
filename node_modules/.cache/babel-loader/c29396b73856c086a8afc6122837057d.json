{"ast":null,"code":"// Generated by CoffeeScript 1.12.5\nvar PropTypes,\n    React,\n    RetinaImage,\n    arrayEqual,\n    assign,\n    imageExists,\n    isRetina,\n    path,\n    bind = function (fn, me) {\n  return function () {\n    return fn.apply(me, arguments);\n  };\n},\n    extend = function (child, parent) {\n  for (var key in parent) {\n    if (hasProp.call(parent, key)) child[key] = parent[key];\n  }\n\n  function ctor() {\n    this.constructor = child;\n  }\n\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n  child.__super__ = parent.prototype;\n  return child;\n},\n    hasProp = {}.hasOwnProperty;\n\nReact = require('react');\nPropTypes = require('prop-types');\nisRetina = require('is-retina');\nimageExists = require('image-exists');\npath = require('path');\nassign = require('object-assign');\narrayEqual = require('array-equal');\n\nmodule.exports = RetinaImage = function (superClass) {\n  extend(RetinaImage, superClass);\n  RetinaImage.propTypes = {\n    src: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n    checkIfRetinaImgExists: PropTypes.bool,\n    forceOriginalDimensions: PropTypes.bool,\n    retinaImageSuffix: PropTypes.string,\n    handleOnLoad: PropTypes.func,\n    onLoad: PropTypes.func,\n    onError: PropTypes.func\n  };\n  RetinaImage.defaultProps = {\n    checkIfRetinaImgExists: true,\n    forceOriginalDimensions: true,\n    retinaImageSuffix: '@2x',\n    onError: function () {}\n  };\n\n  function RetinaImage(props) {\n    this.handleOnLoad = bind(this.handleOnLoad, this);\n\n    RetinaImage.__super__.constructor.call(this, props);\n\n    this.state = this.wrangleProps();\n  }\n\n  RetinaImage.prototype.componentWillReceiveProps = function (nextProps) {\n    var isEqual;\n    isEqual = true;\n\n    if (Array.isArray(this.props.src) && Array.isArray(nextProps.src)) {\n      isEqual = arrayEqual(this.props.src, nextProps.src);\n    } else {\n      isEqual = this.props.src === nextProps.src;\n    }\n\n    if (!isEqual) {\n      return this.setState(assign(this.wrangleProps(nextProps), {\n        width: null,\n        height: null,\n        imgLoaded: null,\n        retinaImgExists: null,\n        retinaCheckComplete: null\n      }));\n    }\n  };\n\n  RetinaImage.prototype.componentDidMount = function () {\n    this.checkForRetina();\n    return this.checkLoaded();\n  };\n\n  RetinaImage.prototype.componentDidUpdate = function () {\n    return this.checkForRetina();\n  };\n\n  RetinaImage.prototype.render = function () {\n    var imgProps;\n    imgProps = assign({}, this.props);\n    delete imgProps.src;\n    delete imgProps.checkIfRetinaImgExists;\n    delete imgProps.forceOriginalDimensions;\n    delete imgProps.retinaImageSuffix;\n    delete imgProps.handleOnLoad;\n    delete imgProps.onLoad;\n    delete imgProps.onError;\n    imgProps.src = this.state.src;\n    imgProps.onLoad = this.handleOnLoad;\n    imgProps.onError = this.props.onError;\n\n    if (this.state.width >= 0) {\n      imgProps.width = this.state.width;\n    }\n\n    if (this.state.height >= 0) {\n      imgProps.height = this.state.height;\n    }\n\n    return React.createElement(\"img\", Object.assign({}, imgProps, {\n      \"ref\": \"img\"\n    }));\n  };\n\n  RetinaImage.prototype.wrangleProps = function (props) {\n    if (props == null) {\n      props = this.props;\n    }\n\n    if (Array.isArray(props.src)) {\n      return {\n        src: props.src[0],\n        srcIsArray: true\n      };\n    } else {\n      return {\n        src: props.src,\n        srcIsArray: false\n      };\n    }\n  };\n\n  RetinaImage.prototype.checkForRetina = function () {\n    if (this.state.retinaCheckComplete) {\n      return;\n    }\n\n    if (isRetina() && this.props.checkIfRetinaImgExists) {\n      return imageExists(this.getRetinaPath(), function (_this) {\n        return function (exists) {\n          var ref;\n\n          if (exists && ((ref = _this.state) != null ? ref.imgLoaded : void 0)) {\n            _this.setState({\n              src: _this.getRetinaPath()\n            });\n          } else if (exists) {\n            _this.setState({\n              retinaImgExists: true\n            });\n          }\n\n          return _this.setState({\n            retinaCheckComplete: true\n          });\n        };\n      }(this));\n    } else if (isRetina() && !this.props.checkIfRetinaImgExists) {\n      this.setState({\n        src: this.getRetinaPath()\n      });\n      return this.setState({\n        retinaCheckComplete: true\n      });\n    }\n  };\n\n  RetinaImage.prototype.checkLoaded = function () {\n    var el;\n    el = this.refs.img;\n\n    if (!el.complete) {\n      return false;\n    }\n\n    if (el.naturalWidth === 0) {\n      return false;\n    }\n\n    return this.handleOnLoad();\n  };\n\n  RetinaImage.prototype.handleOnLoad = function (e) {\n    var ref;\n\n    if (this.props.onLoad != null) {\n      this.props.onLoad(e);\n    }\n\n    if (this.props.handleOnLoad != null) {\n      this.props.handleOnLoad(e);\n    }\n\n    if (this.props.forceOriginalDimensions) {\n      this.setState({\n        width: this.refs.img.clientWidth,\n        height: this.refs.img.clientHeight\n      });\n    }\n\n    this.setState({\n      imgLoaded: true\n    });\n\n    if (((ref = this.state) != null ? ref.retinaImgExists : void 0) || !this.props.checkIfRetinaImgExists) {\n      return this.setState({\n        src: this.getRetinaPath()\n      });\n    }\n  };\n\n  RetinaImage.prototype.getRetinaPath = function () {\n    var basename, src;\n\n    if (this.state.srcIsArray) {\n      return this.props.src[1];\n    } else {\n      basename = path.basename(this.props.src, path.extname(this.props.src));\n      basename = basename + this.props.retinaImageSuffix + path.extname(this.props.src);\n      src = this.props.src.replace(path.basename(this.props.src), basename);\n      return src;\n    }\n  };\n\n  return RetinaImage;\n}(React.Component);","map":{"version":3,"sources":["C:/Users/phil/OneDrive/Documents/reliant/code/narwhal-digital-reliant-wp/node_modules/react-retina-image/dist/index.js"],"names":["PropTypes","React","RetinaImage","arrayEqual","assign","imageExists","isRetina","path","bind","fn","me","apply","arguments","extend","child","parent","key","hasProp","call","ctor","constructor","prototype","__super__","hasOwnProperty","require","module","exports","superClass","propTypes","src","oneOfType","string","array","isRequired","checkIfRetinaImgExists","bool","forceOriginalDimensions","retinaImageSuffix","handleOnLoad","func","onLoad","onError","defaultProps","props","state","wrangleProps","componentWillReceiveProps","nextProps","isEqual","Array","isArray","setState","width","height","imgLoaded","retinaImgExists","retinaCheckComplete","componentDidMount","checkForRetina","checkLoaded","componentDidUpdate","render","imgProps","createElement","Object","srcIsArray","getRetinaPath","_this","exists","ref","el","refs","img","complete","naturalWidth","e","clientWidth","clientHeight","basename","extname","replace","Component"],"mappings":"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","sourcesContent":["// Generated by CoffeeScript 1.12.5\nvar PropTypes, React, RetinaImage, arrayEqual, assign, imageExists, isRetina, path,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nReact = require('react');\n\nPropTypes = require('prop-types');\n\nisRetina = require('is-retina');\n\nimageExists = require('image-exists');\n\npath = require('path');\n\nassign = require('object-assign');\n\narrayEqual = require('array-equal');\n\nmodule.exports = RetinaImage = (function(superClass) {\n  extend(RetinaImage, superClass);\n\n  RetinaImage.propTypes = {\n    src: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n    checkIfRetinaImgExists: PropTypes.bool,\n    forceOriginalDimensions: PropTypes.bool,\n    retinaImageSuffix: PropTypes.string,\n    handleOnLoad: PropTypes.func,\n    onLoad: PropTypes.func,\n    onError: PropTypes.func\n  };\n\n  RetinaImage.defaultProps = {\n    checkIfRetinaImgExists: true,\n    forceOriginalDimensions: true,\n    retinaImageSuffix: '@2x',\n    onError: function() {}\n  };\n\n  function RetinaImage(props) {\n    this.handleOnLoad = bind(this.handleOnLoad, this);\n    RetinaImage.__super__.constructor.call(this, props);\n    this.state = this.wrangleProps();\n  }\n\n  RetinaImage.prototype.componentWillReceiveProps = function(nextProps) {\n    var isEqual;\n    isEqual = true;\n    if (Array.isArray(this.props.src) && Array.isArray(nextProps.src)) {\n      isEqual = arrayEqual(this.props.src, nextProps.src);\n    } else {\n      isEqual = this.props.src === nextProps.src;\n    }\n    if (!isEqual) {\n      return this.setState(assign(this.wrangleProps(nextProps), {\n        width: null,\n        height: null,\n        imgLoaded: null,\n        retinaImgExists: null,\n        retinaCheckComplete: null\n      }));\n    }\n  };\n\n  RetinaImage.prototype.componentDidMount = function() {\n    this.checkForRetina();\n    return this.checkLoaded();\n  };\n\n  RetinaImage.prototype.componentDidUpdate = function() {\n    return this.checkForRetina();\n  };\n\n  RetinaImage.prototype.render = function() {\n    var imgProps;\n    imgProps = assign({}, this.props);\n    delete imgProps.src;\n    delete imgProps.checkIfRetinaImgExists;\n    delete imgProps.forceOriginalDimensions;\n    delete imgProps.retinaImageSuffix;\n    delete imgProps.handleOnLoad;\n    delete imgProps.onLoad;\n    delete imgProps.onError;\n    imgProps.src = this.state.src;\n    imgProps.onLoad = this.handleOnLoad;\n    imgProps.onError = this.props.onError;\n    if (this.state.width >= 0) {\n      imgProps.width = this.state.width;\n    }\n    if (this.state.height >= 0) {\n      imgProps.height = this.state.height;\n    }\n    return React.createElement(\"img\", Object.assign({}, imgProps, {\n      \"ref\": \"img\"\n    }));\n  };\n\n  RetinaImage.prototype.wrangleProps = function(props) {\n    if (props == null) {\n      props = this.props;\n    }\n    if (Array.isArray(props.src)) {\n      return {\n        src: props.src[0],\n        srcIsArray: true\n      };\n    } else {\n      return {\n        src: props.src,\n        srcIsArray: false\n      };\n    }\n  };\n\n  RetinaImage.prototype.checkForRetina = function() {\n    if (this.state.retinaCheckComplete) {\n      return;\n    }\n    if (isRetina() && this.props.checkIfRetinaImgExists) {\n      return imageExists(this.getRetinaPath(), (function(_this) {\n        return function(exists) {\n          var ref;\n          if (exists && ((ref = _this.state) != null ? ref.imgLoaded : void 0)) {\n            _this.setState({\n              src: _this.getRetinaPath()\n            });\n          } else if (exists) {\n            _this.setState({\n              retinaImgExists: true\n            });\n          }\n          return _this.setState({\n            retinaCheckComplete: true\n          });\n        };\n      })(this));\n    } else if (isRetina() && !this.props.checkIfRetinaImgExists) {\n      this.setState({\n        src: this.getRetinaPath()\n      });\n      return this.setState({\n        retinaCheckComplete: true\n      });\n    }\n  };\n\n  RetinaImage.prototype.checkLoaded = function() {\n    var el;\n    el = this.refs.img;\n    if (!el.complete) {\n      return false;\n    }\n    if (el.naturalWidth === 0) {\n      return false;\n    }\n    return this.handleOnLoad();\n  };\n\n  RetinaImage.prototype.handleOnLoad = function(e) {\n    var ref;\n    if (this.props.onLoad != null) {\n      this.props.onLoad(e);\n    }\n    if (this.props.handleOnLoad != null) {\n      this.props.handleOnLoad(e);\n    }\n    if (this.props.forceOriginalDimensions) {\n      this.setState({\n        width: this.refs.img.clientWidth,\n        height: this.refs.img.clientHeight\n      });\n    }\n    this.setState({\n      imgLoaded: true\n    });\n    if (((ref = this.state) != null ? ref.retinaImgExists : void 0) || !this.props.checkIfRetinaImgExists) {\n      return this.setState({\n        src: this.getRetinaPath()\n      });\n    }\n  };\n\n  RetinaImage.prototype.getRetinaPath = function() {\n    var basename, src;\n    if (this.state.srcIsArray) {\n      return this.props.src[1];\n    } else {\n      basename = path.basename(this.props.src, path.extname(this.props.src));\n      basename = basename + this.props.retinaImageSuffix + path.extname(this.props.src);\n      src = this.props.src.replace(path.basename(this.props.src), basename);\n      return src;\n    }\n  };\n\n  return RetinaImage;\n\n})(React.Component);\n"]},"metadata":{},"sourceType":"script"}