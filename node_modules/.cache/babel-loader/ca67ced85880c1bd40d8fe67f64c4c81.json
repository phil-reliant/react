{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phil\\\\OneDrive\\\\Documents\\\\reliant\\\\code\\\\narwhal-digital-reliant-wp\\\\src\\\\components\\\\FlexibleContent\\\\index.js\";\nimport React, { useRef, useEffect, createRef } from \"react\";\nimport { Waypoint } from 'react-waypoint';\nimport gsap from 'gsap';\nimport BasicTextModule from \"./BasicTextModule\";\nimport CaseStudyFeatured from \"./CaseStudyFeatured\";\nimport ContactForm from \"./ContactForm\";\nimport ContactUsCtas from './ContactUsCTA';\nimport EOLTracker from './EOLTracker';\nimport EOLList from './EOLList';\nimport FAQAccordion from \"./FAQAccordion\";\nimport FooterCTA from \"./FooterCTA\";\nimport IconGrid from \"./IconGrid\";\nimport IndustrySlider from './IndustrySlider';\nimport LeftRight from \"./LeftRight\";\nimport LeftRightBulleted from './LeftRightBulleted';\nimport LogoSlider from \"./LogoSlider\";\nimport MastheadLayout from \"./Masthead\";\nimport ResourcesCTA from './ResourcesCTA';\nimport SecondaryPageHeader from './SecondaryPageHeader';\nimport ServiceTable from './ServiceTable';\nimport StatBlock from './StatBlock';\nimport TestimonialSlider from './TestimonialSlider';\nimport ThreeUpContentBlocks from './ThreeUpContentBlocks';\nimport VideoPlayer from './VideoPlayer';\n\nconst renderLayout = (type, postType, data) => {\n  switch (type) {\n    case `${postType}_Pagecontentfields_PageContent_M180BasicText`:\n      return /*#__PURE__*/React.createElement(BasicTextModule, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_Masthead`:\n      return /*#__PURE__*/React.createElement(MastheadLayout, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_LogoSlider`:\n      return /*#__PURE__*/React.createElement(LogoSlider, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_IconGrid`:\n      return /*#__PURE__*/React.createElement(IconGrid, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_CaseStudiesFeatured`:\n      return /*#__PURE__*/React.createElement(CaseStudyFeatured, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_ContactForm`:\n      return /*#__PURE__*/React.createElement(ContactForm, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_ContactUsCtas`:\n      return /*#__PURE__*/React.createElement(ContactUsCtas, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_FooterCta`:\n      return /*#__PURE__*/React.createElement(FooterCTA, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_FaqAccordion`:\n      return /*#__PURE__*/React.createElement(FAQAccordion, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_LeftRight`:\n      return /*#__PURE__*/React.createElement(LeftRight, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_IndustrySlider`:\n      return /*#__PURE__*/React.createElement(IndustrySlider, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_SecondaryPageHeader`:\n      return /*#__PURE__*/React.createElement(SecondaryPageHeader, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_StatBlock`:\n      return /*#__PURE__*/React.createElement(StatBlock, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_TestimonialSlider`:\n      return /*#__PURE__*/React.createElement(TestimonialSlider, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_VideoPlayer`:\n      return /*#__PURE__*/React.createElement(VideoPlayer, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_LeftRightBulleted`:\n      return /*#__PURE__*/React.createElement(LeftRightBulleted, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_ResourcesCta`:\n      return /*#__PURE__*/React.createElement(ResourcesCTA, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_EolTracker`:\n      return /*#__PURE__*/React.createElement(EOLTracker, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_EolList`:\n      return /*#__PURE__*/React.createElement(EOLList, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 12\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_ServiceTable`:\n      return /*#__PURE__*/React.createElement(ServiceTable, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }));\n\n    case `${postType}_Pagecontentfields_PageContent_ThreeUpContentBlocks`:\n      return /*#__PURE__*/React.createElement(ThreeUpContentBlocks, Object.assign({}, data, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }));\n\n    default:\n      return ``;\n  }\n};\n\nconst FlexibleContent = props => {\n  const {\n    pageContent\n  } = props.pageContentFields; // const sectionRefs = useRef([...Array(pageContent.length)].map(() => createRef()));\n  // const innerRefs = useRef([...Array(pageContent.length)].map(() => createRef()));\n\n  const sectionRefs = useRef([...Array(20)].map(() => createRef()));\n  const innerRefs = useRef([...Array(20)].map(() => createRef()));\n  useEffect(() => {\n    // gsap.to(document.body, { backgroundColor: '#ffffff', duration: 0.0 });\n    if (sectionRefs.current) {\n      sectionRefs.current.forEach(ref => {\n        gsap.to(ref.current, {\n          duration: 0.0,\n          opacity: 1,\n          y: 0\n        });\n      });\n    }\n  });\n\n  const fadeIn = elIndex => {\n    // NOTE:: rare crashes have been seen in this method during the `gsap.to` call (\"TypeError: Cannot read property\n    // 'current' of undefined\"), so adding sanity check to ensure both references to '.current' are not null.\n    if (innerRefs && typeof innerRefs.current !== 'undefined') {\n      if (innerRefs.current[elIndex] && typeof innerRefs.current[elIndex].current !== 'undefined') {\n        gsap.to(innerRefs.current[elIndex].current, {\n          duration: 0.4,\n          opacity: 1,\n          y: 0\n        });\n      }\n    }\n  };\n\n  const layouts = pageContent.map((layout, index) => {\n    const {\n      __typename\n    } = layout;\n\n    const postType = __typename.split(\"_\")[0];\n\n    const moduleType = __typename.split(\"_\")[3].toLowerCase();\n\n    const markup = renderLayout(__typename, postType, layout);\n    let bgClass = layout.backgroundColor ? `bg-${layout.backgroundColor}` : ``;\n\n    if (moduleType === `casestudiesfeatured`) {\n      bgClass = ``;\n    }\n\n    let appearanceClasses = ``;\n    let appearanceStyles = {};\n    let paddingOptions = layout.paddingOptions;\n    let backgroundImage = layout.appearanceBackgroundImage;\n\n    if (paddingOptions) {\n      appearanceClasses += ` padding-top-${paddingOptions.paddingTop} padding-bottom-${paddingOptions.paddingBottom}`;\n    }\n\n    if (backgroundImage) {\n      appearanceStyles = {\n        backgroundImage: `url('${backgroundImage.mediaItemUrl}')`,\n        backgroundSize: `cover`,\n        backgroundPosition: `center center`,\n        backgroundRepeat: `no-repeat`\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(Waypoint, {\n      onEnter: () => fadeIn(index),\n      bottomOffset: `40%`,\n      key: `flex-layout-${index}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: `layout\n\t\t\t\t\t\tlayout-type-${moduleType}\n\t\t\t\t\t\t${bgClass}\n\t\t\t\t\t\t${appearanceClasses}`,\n      style: appearanceStyles,\n      ref: sectionRefs.current[index],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `layout-inner`,\n      ref: innerRefs.current[index],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 6\n      }\n    }, markup)));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `flex-content`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, layouts);\n};\n\nexport default FlexibleContent;","map":{"version":3,"sources":["C:/Users/phil/OneDrive/Documents/reliant/code/narwhal-digital-reliant-wp/src/components/FlexibleContent/index.js"],"names":["React","useRef","useEffect","createRef","Waypoint","gsap","BasicTextModule","CaseStudyFeatured","ContactForm","ContactUsCtas","EOLTracker","EOLList","FAQAccordion","FooterCTA","IconGrid","IndustrySlider","LeftRight","LeftRightBulleted","LogoSlider","MastheadLayout","ResourcesCTA","SecondaryPageHeader","ServiceTable","StatBlock","TestimonialSlider","ThreeUpContentBlocks","VideoPlayer","renderLayout","type","postType","data","FlexibleContent","props","pageContent","pageContentFields","sectionRefs","Array","map","innerRefs","current","forEach","ref","to","duration","opacity","y","fadeIn","elIndex","layouts","layout","index","__typename","split","moduleType","toLowerCase","markup","bgClass","backgroundColor","appearanceClasses","appearanceStyles","paddingOptions","backgroundImage","appearanceBackgroundImage","paddingTop","paddingBottom","mediaItemUrl","backgroundSize","backgroundPosition","backgroundRepeat"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,SAAnC,QAAoD,OAApD;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,cAAP,MAA2B,YAA3B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,YAAY,GAAG,CAACC,IAAD,EAAOC,QAAP,EAAiBC,IAAjB,KAA0B;AAC9C,UAAQF,IAAR;AACC,SAAM,GAAEC,QAAS,8CAAjB;AACC,0BAAO,oBAAC,eAAD,oBAAqBC,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,yCAAjB;AACC,0BAAO,oBAAC,cAAD,oBAAoBC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,2CAAjB;AACC,0BAAO,oBAAC,UAAD,oBAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,yCAAjB;AACC,0BAAO,oBAAC,QAAD,oBAAcC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,oDAAjB;AACC,0BAAO,oBAAC,iBAAD,oBAAuBC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,4CAAjB;AACC,0BAAO,oBAAC,WAAD,oBAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,8CAAjB;AACC,0BAAO,oBAAC,aAAD,oBAAmBC,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,0CAAjB;AACC,0BAAO,oBAAC,SAAD,oBAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,6CAAjB;AACC,0BAAO,oBAAC,YAAD,oBAAkBC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,0CAAjB;AACC,0BAAO,oBAAC,SAAD,oBAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,+CAAjB;AACC,0BAAO,oBAAC,cAAD,oBAAoBC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,oDAAjB;AACC,0BAAO,oBAAC,mBAAD,oBAAyBC,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,0CAAjB;AACC,0BAAO,oBAAC,SAAD,oBAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,kDAAjB;AACC,0BAAO,oBAAC,iBAAD,oBAAuBC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,4CAAjB;AACC,0BAAO,oBAAC,WAAD,oBAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,kDAAjB;AACC,0BAAO,oBAAC,iBAAD,oBAAuBC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,6CAAjB;AACC,0BAAO,oBAAC,YAAD,oBAAkBC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,2CAAjB;AACC,0BAAO,oBAAC,UAAD,oBAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,wCAAjB;AACE,0BAAO,oBAAC,OAAD,oBAAaC,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACF,SAAM,GAAED,QAAS,6CAAjB;AACC,0BAAO,oBAAC,YAAD,oBAAkBC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD,SAAM,GAAED,QAAS,qDAAjB;AACC,0BAAO,oBAAC,oBAAD,oBAA0BC,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AACD;AACC,aAAQ,EAAR;AA5CF;AA8CA,CA/CD;;AAiDA,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAChC,QAAM;AAAEC,IAAAA;AAAF,MAAkBD,KAAK,CAACE,iBAA9B,CADgC,CAEhC;AACA;;AAEA,QAAMC,WAAW,GAAGlC,MAAM,CACzB,CAAC,GAAGmC,KAAK,CAAC,EAAD,CAAT,EAAeC,GAAf,CAAmB,MAAMlC,SAAS,EAAlC,CADyB,CAA1B;AAGA,QAAMmC,SAAS,GAAGrC,MAAM,CACvB,CAAC,GAAGmC,KAAK,CAAC,EAAD,CAAT,EAAeC,GAAf,CAAmB,MAAMlC,SAAS,EAAlC,CADuB,CAAxB;AAIAD,EAAAA,SAAS,CAAC,MAAM;AACf;AAEA,QAAIiC,WAAW,CAACI,OAAhB,EAAyB;AACxBJ,MAAAA,WAAW,CAACI,OAAZ,CAAoBC,OAApB,CAA6BC,GAAD,IAAS;AACpCpC,QAAAA,IAAI,CAACqC,EAAL,CAAQD,GAAG,CAACF,OAAZ,EAAqB;AACpBI,UAAAA,QAAQ,EAAE,GADU;AAEpBC,UAAAA,OAAO,EAAE,CAFW;AAGpBC,UAAAA,CAAC,EAAE;AAHiB,SAArB;AAKA,OAND;AAOA;AACD,GAZQ,CAAT;;AAcA,QAAMC,MAAM,GAAIC,OAAD,IAAa;AAC3B;AACA;AACA,QAAIT,SAAS,IAAK,OAAOA,SAAS,CAACC,OAAjB,KAA6B,WAA/C,EAA6D;AAC5D,UAAID,SAAS,CAACC,OAAV,CAAkBQ,OAAlB,KAA+B,OAAOT,SAAS,CAACC,OAAV,CAAkBQ,OAAlB,EAA2BR,OAAlC,KAA8C,WAAjF,EAA+F;AAC9FlC,QAAAA,IAAI,CAACqC,EAAL,CAAQJ,SAAS,CAACC,OAAV,CAAkBQ,OAAlB,EAA2BR,OAAnC,EAA4C;AAC3CI,UAAAA,QAAQ,EAAE,GADiC;AAE3CC,UAAAA,OAAO,EAAE,CAFkC;AAG3CC,UAAAA,CAAC,EAAE;AAHwC,SAA5C;AAKA;AACD;AACD,GAZD;;AAcA,QAAMG,OAAO,GAAGf,WAAW,CAACI,GAAZ,CAAgB,CAACY,MAAD,EAASC,KAAT,KAAmB;AAClD,UAAM;AAAEC,MAAAA;AAAF,QAAiBF,MAAvB;;AACA,UAAMpB,QAAQ,GAAGsB,UAAU,CAACC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAjB;;AACA,UAAMC,UAAU,GAAGF,UAAU,CAACC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,EAAyBE,WAAzB,EAAnB;;AACA,UAAMC,MAAM,GAAG5B,YAAY,CAACwB,UAAD,EAAatB,QAAb,EAAuBoB,MAAvB,CAA3B;AAEA,QAAIO,OAAO,GAAGP,MAAM,CAACQ,eAAP,GAA0B,MAAKR,MAAM,CAACQ,eAAgB,EAAtD,GAA2D,EAAzE;;AAEA,QAAIJ,UAAU,KAAM,qBAApB,EAA0C;AACzCG,MAAAA,OAAO,GAAI,EAAX;AACA;;AAED,QAAIE,iBAAiB,GAAI,EAAzB;AACA,QAAIC,gBAAgB,GAAG,EAAvB;AACA,QAAIC,cAAc,GAAGX,MAAM,CAACW,cAA5B;AACA,QAAIC,eAAe,GAAGZ,MAAM,CAACa,yBAA7B;;AAGD,QAAIF,cAAJ,EAAoB;AACnBF,MAAAA,iBAAiB,IAAK,gBAAeE,cAAc,CAACG,UAAW,mBAAkBH,cAAc,CAACI,aAAc,EAA9G;AACA;;AAEA,QAAIH,eAAJ,EAAqB;AACpBF,MAAAA,gBAAgB,GAAG;AAClBE,QAAAA,eAAe,EAAG,QAAOA,eAAe,CAACI,YAAa,IADpC;AAElBC,QAAAA,cAAc,EAAG,OAFC;AAGlBC,QAAAA,kBAAkB,EAAG,eAHH;AAIlBC,QAAAA,gBAAgB,EAAG;AAJD,OAAnB;AAMA;;AAGD,wBACC,oBAAC,QAAD;AACC,MAAA,OAAO,EAAE,MAAMtB,MAAM,CAACI,KAAD,CADtB;AAEC,MAAA,YAAY,EAAG,KAFhB;AAGC,MAAA,GAAG,EAAG,eAAcA,KAAM,EAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKC;AACC,MAAA,SAAS,EACP;oBACaG,UAAW;QACvBG,OAAQ;QACRE,iBAAkB,EALtB;AAOE,MAAA,KAAK,EAAEC,gBAPT;AAQE,MAAA,GAAG,EAAExB,WAAW,CAACI,OAAZ,CAAoBW,KAApB,CARP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAYC;AACC,MAAA,SAAS,EAAG,cADb;AAEC,MAAA,GAAG,EAAEZ,SAAS,CAACC,OAAV,CAAkBW,KAAlB,CAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIEK,MAJF,CAZD,CALD,CADD;AA4BA,GA5De,CAAhB;AA8DA,sBAAO;AAAK,IAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCP,OAAjC,CAAP;AACA,CAvGD;;AAyGA,eAAejB,eAAf","sourcesContent":["import React, { useRef, useEffect, createRef } from \"react\";\nimport { Waypoint } from 'react-waypoint';\nimport gsap from 'gsap';\nimport BasicTextModule from \"./BasicTextModule\";\nimport CaseStudyFeatured from \"./CaseStudyFeatured\";\nimport ContactForm from \"./ContactForm\";\nimport ContactUsCtas from './ContactUsCTA';\nimport EOLTracker from './EOLTracker';\nimport EOLList from './EOLList';\nimport FAQAccordion from \"./FAQAccordion\";\nimport FooterCTA from \"./FooterCTA\";\nimport IconGrid from \"./IconGrid\";\nimport IndustrySlider from './IndustrySlider';\nimport LeftRight from \"./LeftRight\";\nimport LeftRightBulleted from './LeftRightBulleted';\nimport LogoSlider from \"./LogoSlider\";\nimport MastheadLayout from \"./Masthead\";\nimport ResourcesCTA from './ResourcesCTA';\nimport SecondaryPageHeader from './SecondaryPageHeader';\nimport ServiceTable from './ServiceTable';\nimport StatBlock from './StatBlock';\nimport TestimonialSlider from './TestimonialSlider';\nimport ThreeUpContentBlocks from './ThreeUpContentBlocks';\nimport VideoPlayer from './VideoPlayer';\n\nconst renderLayout = (type, postType, data) => {\n\tswitch (type) {\n\t\tcase `${postType}_Pagecontentfields_PageContent_M180BasicText`:\n\t\t\treturn <BasicTextModule {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_Masthead`:\n\t\t\treturn <MastheadLayout {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_LogoSlider`:\n\t\t\treturn <LogoSlider {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_IconGrid`:\n\t\t\treturn <IconGrid {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_CaseStudiesFeatured`:\n\t\t\treturn <CaseStudyFeatured {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_ContactForm`:\n\t\t\treturn <ContactForm {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_ContactUsCtas`:\n\t\t\treturn <ContactUsCtas {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_FooterCta`:\n\t\t\treturn <FooterCTA {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_FaqAccordion`:\n\t\t\treturn <FAQAccordion {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_LeftRight`:\n\t\t\treturn <LeftRight {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_IndustrySlider`:\n\t\t\treturn <IndustrySlider {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_SecondaryPageHeader`:\n\t\t\treturn <SecondaryPageHeader {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_StatBlock`:\n\t\t\treturn <StatBlock {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_TestimonialSlider`:\n\t\t\treturn <TestimonialSlider {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_VideoPlayer`:\n\t\t\treturn <VideoPlayer {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_LeftRightBulleted`:\n\t\t\treturn <LeftRightBulleted {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_ResourcesCta`:\n\t\t\treturn <ResourcesCTA {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_EolTracker`:\n\t\t\treturn <EOLTracker {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_EolList`:\n\t\t\t\treturn <EOLList {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_ServiceTable`:\n\t\t\treturn <ServiceTable {...data} />;\n\t\tcase `${postType}_Pagecontentfields_PageContent_ThreeUpContentBlocks`:\n\t\t\treturn <ThreeUpContentBlocks {...data} />;\n\t\tdefault:\n\t\t\treturn ``;\n\t}\n};\n\nconst FlexibleContent = props => {\n\tconst { pageContent } = props.pageContentFields;\n\t// const sectionRefs = useRef([...Array(pageContent.length)].map(() => createRef()));\n\t// const innerRefs = useRef([...Array(pageContent.length)].map(() => createRef()));\n\n\tconst sectionRefs = useRef(\n\t\t[...Array(20)].map(() => createRef())\n\t);\n\tconst innerRefs = useRef(\n\t\t[...Array(20)].map(() => createRef())\n\t);\n\n\tuseEffect(() => {\n\t\t// gsap.to(document.body, { backgroundColor: '#ffffff', duration: 0.0 });\n\t\t\n\t\tif (sectionRefs.current) {\n\t\t\tsectionRefs.current.forEach((ref) => {\n\t\t\t\tgsap.to(ref.current, {\n\t\t\t\t\tduration: 0.0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\ty: 0\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\tconst fadeIn = (elIndex) => {\n\t\t// NOTE:: rare crashes have been seen in this method during the `gsap.to` call (\"TypeError: Cannot read property\n\t\t// 'current' of undefined\"), so adding sanity check to ensure both references to '.current' are not null.\n\t\tif (innerRefs && (typeof innerRefs.current !== 'undefined')) {\n\t\t\tif (innerRefs.current[elIndex] && (typeof innerRefs.current[elIndex].current !== 'undefined')) {\n\t\t\t\tgsap.to(innerRefs.current[elIndex].current, {\n\t\t\t\t\tduration: 0.4,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\ty: 0\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tconst layouts = pageContent.map((layout, index) => {\n\t\tconst { __typename } = layout;\n\t\tconst postType = __typename.split(\"_\")[0];\n\t\tconst moduleType = __typename.split(\"_\")[3].toLowerCase();\n\t\tconst markup = renderLayout(__typename, postType, layout);\n\n\t\tlet bgClass = layout.backgroundColor ? `bg-${layout.backgroundColor}` : ``;\n\n\t\tif (moduleType === `casestudiesfeatured`) {\n\t\t\tbgClass = ``;\n\t\t}\n\n\t\tlet appearanceClasses = ``;\n\t\tlet appearanceStyles = {};\n\t\tlet paddingOptions = layout.paddingOptions;\n\t\tlet backgroundImage = layout.appearanceBackgroundImage;\n\n\n\tif (paddingOptions) {\n\t\tappearanceClasses += ` padding-top-${paddingOptions.paddingTop} padding-bottom-${paddingOptions.paddingBottom}`;\n\t}\n\n\t\tif (backgroundImage) {\n\t\t\tappearanceStyles = {\n\t\t\t\tbackgroundImage: `url('${backgroundImage.mediaItemUrl}')`,\n\t\t\t\tbackgroundSize: `cover`,\n\t\t\t\tbackgroundPosition: `center center`,\n\t\t\t\tbackgroundRepeat: `no-repeat`\n\t\t\t}\n\t\t}\n\n\n\t\treturn (\n\t\t\t<Waypoint\n\t\t\t\tonEnter={() => fadeIn(index)}\n\t\t\t\tbottomOffset={`40%`}\n\t\t\t\tkey={`flex-layout-${index}`}\n\t\t\t>\n\t\t\t\t<section\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t`layout\n\t\t\t\t\t\tlayout-type-${moduleType}\n\t\t\t\t\t\t${bgClass}\n\t\t\t\t\t\t${appearanceClasses}`\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle={appearanceStyles}\n\t\t\t\t\t\tref={sectionRefs.current[index]}\n\t\t\t\t\t>\n\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`layout-inner`}\n\t\t\t\t\t\tref={innerRefs.current[index]}\n\t\t\t\t\t>\n\t\t\t\t\t\t{markup}\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t </Waypoint>\n\n\t\t);\n\t});\n\n\treturn <div className={`flex-content`}>{layouts}</div>;\n};\n\nexport default FlexibleContent;\n"]},"metadata":{},"sourceType":"module"}