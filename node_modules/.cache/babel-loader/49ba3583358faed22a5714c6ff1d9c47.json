{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phil\\\\OneDrive\\\\Documents\\\\reliant\\\\code\\\\narwhal-digital-reliant-wp\\\\src\\\\components\\\\FlexibleContent\\\\CaseStudyFeaturedTabber.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ArrowNoStem from '../../assets/svgs/arrow-no-stem';\nimport PlusSignBlack from \"../../assets/images/plus-sign-black.svg\";\nimport PlusSignWhite from \"../../assets/images/plus-sign-white.svg\";\nimport { TruncateText, UnescapeText } from '../../utils/TextHelpers';\nimport CircuitsLeftImage from '../../assets/images/circuits-left.png';\nimport Variables from '../../assets/scss/config/_variables.scss';\n\nconst CaseStudyFeaturedTabber = ({\n  backgroundColor,\n  caseStudies\n}) => {\n  const [selectedCaseStudyIndex, setSelectedCaseStudyIndex] = useState(0);\n  const [selectedCaseStudyQuote, setSelectedCaseStudyQuote] = useState(\"\");\n  const [selectedCaseStudyLink, setSelectedCaseStudyLink] = useState(\"\");\n  const baseClass = `case-study-featured-tabber`;\n  useEffect(() => {\n    if (caseStudies && caseStudies.length > 0) {\n      selectCaseStudy(caseStudies[0], 0);\n    }\n  }, [caseStudies]); // This method fades out the detail area, updates the data shown there, and\n  // fades it back in. The index is all that the left rail (listing) keys off\n  // of, so it is all that is instantly updated so as to immediately show\n  // a selection change, while the #fadeArea is faded out and back in\n\n  const selectCaseStudy = (caseStudy, index) => {\n    setSelectedCaseStudyIndex(index);\n    document.querySelector('#fadeArea').classList.remove('fade-in');\n    document.querySelector('#fadeArea').classList.add('fade-out');\n    setTimeout(function () {\n      setSelectedCaseStudyQuote(caseStudy.case_study_fields.quote);\n\n      if (caseStudy.single_resource && caseStudy.single_resource.resourceDownload && caseStudy.single_resource.resourceDownload.mediaItemUrl) {\n        setSelectedCaseStudyLink(caseStudy.single_resource.resourceDownload.mediaItemUrl);\n      } else {\n        console.error(\"CaseStudyFeaturedTabber was unable to get the PDF download URL!\");\n        setSelectedCaseStudyLink(\"\");\n      }\n\n      document.querySelector('#fadeArea').classList.remove('fade-out');\n      document.querySelector('#fadeArea').classList.add('fade-in');\n    }, Variables.defaultDuration);\n  };\n\n  const renderListing = caseStudies.map((caseStudy, index) => {\n    var itemClasses = `${baseClass}__listing-column__item`;\n    var plusIcon = PlusSignWhite;\n\n    if (selectedCaseStudyIndex === index) {\n      itemClasses = `${baseClass}__listing-column__item selected`;\n      plusIcon = PlusSignBlack;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: itemClasses,\n      onClick: () => selectCaseStudy(caseStudy, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `${baseClass}__listing-column__item-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, UnescapeText(caseStudy.title)), /*#__PURE__*/React.createElement(\"img\", {\n      className: `${baseClass}__listing-column__item-plus-sign`,\n      src: plusIcon,\n      alt: \"View Details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `case-study-featured-tabber container`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: `bg-img`,\n    src: CircuitsLeftImage,\n    alt: \"Circuit board\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `case-study-featured-tabber__row row  bg-${backgroundColor}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `bg-${backgroundColor}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${baseClass}__listing-column col-6`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, renderListing), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${baseClass}__detail-column col-6`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"fadeArea\",\n    className: `${baseClass}__detail-column__fade-area`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${baseClass}__detail-column__fade-area__title`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, \"Case Study\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: `${baseClass}__detail-column__fade-area__quote`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, \"\\\"\", TruncateText(selectedCaseStudyQuote, 150), \"\\\"\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons --align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"button --standard arrow-icon\",\n    href: `${selectedCaseStudyLink}`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Read the Case Study\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: `arrow-icon`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ArrowNoStem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 10\n    }\n  }))))))));\n};\n\nCaseStudyFeaturedTabber.propTypes = {\n  backgroundColor: PropTypes.string,\n  caseStudies: PropTypes.array\n};\nexport default CaseStudyFeaturedTabber;","map":{"version":3,"sources":["C:/Users/phil/OneDrive/Documents/reliant/code/narwhal-digital-reliant-wp/src/components/FlexibleContent/CaseStudyFeaturedTabber.js"],"names":["React","useState","useEffect","PropTypes","ArrowNoStem","TruncateText","UnescapeText","CircuitsLeftImage","Variables","CaseStudyFeaturedTabber","backgroundColor","caseStudies","selectedCaseStudyIndex","setSelectedCaseStudyIndex","selectedCaseStudyQuote","setSelectedCaseStudyQuote","selectedCaseStudyLink","setSelectedCaseStudyLink","baseClass","length","selectCaseStudy","caseStudy","index","document","querySelector","classList","remove","add","setTimeout","case_study_fields","quote","single_resource","resourceDownload","mediaItemUrl","console","error","defaultDuration","renderListing","map","itemClasses","plusIcon","PlusSignWhite","PlusSignBlack","title","propTypes","string","array"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ArrowNoStem from '../../assets/svgs/arrow-no-stem';\nimport PlusSignBlack from '../../assets/images/plus-sign-black.svg';\nimport PlusSignWhite from '../../assets/images/plus-sign-white.svg';\nimport {TruncateText, UnescapeText } from '../../utils/TextHelpers';\nimport CircuitsLeftImage from '../../assets/images/circuits-left.png';\nimport Variables from '../../assets/scss/config/_variables.scss';\n\nconst CaseStudyFeaturedTabber = ({ backgroundColor, caseStudies }) => {\n\n\tconst [selectedCaseStudyIndex, setSelectedCaseStudyIndex] = useState(0);\n\tconst [selectedCaseStudyQuote, setSelectedCaseStudyQuote] = useState(\"\");\n\tconst [selectedCaseStudyLink, setSelectedCaseStudyLink] = useState(\"\");\n\n\tconst baseClass = `case-study-featured-tabber`;\n\n\tuseEffect(() => {\n\t\tif (caseStudies && caseStudies.length > 0) {\n\t\t\tselectCaseStudy(caseStudies[0], 0);\n\t\t}\n\t}, [caseStudies])\n\n\t// This method fades out the detail area, updates the data shown there, and\n\t// fades it back in. The index is all that the left rail (listing) keys off\n\t// of, so it is all that is instantly updated so as to immediately show\n\t// a selection change, while the #fadeArea is faded out and back in\n\tconst selectCaseStudy = (caseStudy, index) => {\n\t\tsetSelectedCaseStudyIndex(index);\n\n\t\tdocument.querySelector('#fadeArea').classList.remove('fade-in');\n\t\tdocument.querySelector('#fadeArea').classList.add('fade-out');\n\n\t\tsetTimeout(function () {\n\t\t\tsetSelectedCaseStudyQuote(caseStudy.case_study_fields.quote);\n\n\t\t\tif (caseStudy.single_resource && caseStudy.single_resource.resourceDownload && caseStudy.single_resource.resourceDownload.mediaItemUrl) {\n\t\t\t\tsetSelectedCaseStudyLink(caseStudy.single_resource.resourceDownload.mediaItemUrl);\n\t\t\t} else {\n\t\t\t\tconsole.error(\"CaseStudyFeaturedTabber was unable to get the PDF download URL!\");\n\t\t\t\tsetSelectedCaseStudyLink(\"\");\n\t\t\t}\n\n\t\t\tdocument.querySelector('#fadeArea').classList.remove('fade-out');\n\t\t\tdocument.querySelector('#fadeArea').classList.add('fade-in');\n\t\t}, Variables.defaultDuration);\n\t}\n\n\tconst renderListing = caseStudies.map((caseStudy, index) => {\n\t\tvar itemClasses = `${baseClass}__listing-column__item`;\n\t\tvar plusIcon = PlusSignWhite;\n\t\tif (selectedCaseStudyIndex === index) {\n\t\t\titemClasses = `${baseClass}__listing-column__item selected`;\n\t\t\tplusIcon = PlusSignBlack;\n\t\t}\n\n\t\treturn (\n\t\t\t<div key={index}\n\t\t\t\tclassName={itemClasses}\n\t\t\t\tonClick={() => selectCaseStudy(caseStudy, index)}>\n\t\t\t\t<div className={`${baseClass}__listing-column__item-text`}>\n\t\t\t\t\t{UnescapeText(caseStudy.title)}\n\t\t\t\t</div>\n\t\t\t\t<img className={`${baseClass}__listing-column__item-plus-sign`}\n\t\t\t\t\tsrc={plusIcon}\n\t\t\t\t\talt=\"View Details\" />\n\t\t\t</div>\n\t\t);\n\t});\n\n\treturn (\n\t\t<div className={`case-study-featured-tabber container`}>\n\t\t\t<img className={`bg-img`}\n\t\t\t\tsrc={CircuitsLeftImage}\n\t\t\t\talt=\"Circuit board\"/>\n\t\t\t<div className={`case-study-featured-tabber__row row  bg-${backgroundColor}`}>\n\t\t\t\t<div className={`bg-${backgroundColor}`}></div>\n\n\t\t\t\t<div className={`${baseClass}__listing-column col-6`}>\n\t\t\t\t\t{renderListing}\n\t\t\t\t</div>\n\t\t\t\t<div className={`${baseClass}__detail-column col-6`}>\n\t\t\t\t\t<div id=\"fadeArea\" className={`${baseClass}__detail-column__fade-area`}>\n\t\t\t\t\t\t<div className={`${baseClass}__detail-column__fade-area__title`}>Case Study</div>\n\t\t\t\t\t\t<p className={`${baseClass}__detail-column__fade-area__quote`}>\"{TruncateText(selectedCaseStudyQuote, 150)}\"</p>\n\n\t\t\t\t\t\t<div className=\"buttons --align-center\">\n\t\t\t\t\t\t\t<a className=\"button --standard arrow-icon\"\n\t\t\t\t\t\t\t\thref={`${selectedCaseStudyLink}`}\n\t\t\t\t\t\t\t\ttarget=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t<span>Read the Case Study</span>\n\t\t\t\t\t\t\t\t<div className={`arrow-icon`}>\n\t\t\t\t\t\t\t\t\t<ArrowNoStem />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n};\n\nCaseStudyFeaturedTabber.propTypes = {\n\tbackgroundColor: PropTypes.string,\n\tcaseStudies: PropTypes.array\n};\n\nexport default CaseStudyFeaturedTabber;\n"]},"metadata":{},"sourceType":"module"}