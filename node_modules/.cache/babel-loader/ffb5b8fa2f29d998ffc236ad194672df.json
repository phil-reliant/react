{"ast":null,"code":"import { GravityFormConstants } from '../GravityFormsConstants';\n\nconst SubmitGravityForm = async (formId, jsonObject, processResults, extraValue) => {\n  var fullUrl = `${GravityFormConstants.rootUrl}/forms/${formId}/entries`;\n  jsonObject['form_id'] = formId; // append the form ID to the collection\n  // console.log('jsonObject', jsonObject);\n\n  fetch(fullUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Basic ${GravityFormConstants.authString}`\n    },\n    body: JSON.stringify(jsonObject)\n  }).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw Error(res.statusText);\n    }\n  }).then(json => {\n    processResults({\n      success: true,\n      errorMsg: '',\n      extraValue: extraValue\n    });\n  }).catch(error => {\n    processResults({\n      success: false,\n      errorMsg: error,\n      extraValue: extraValue\n    });\n  });\n};\n\nexport default SubmitGravityForm;","map":{"version":3,"sources":["C:/Users/phil/OneDrive/Documents/reliant/code/narwhal-digital-reliant-wp/src/utils/GravityFormsHelpers.js"],"names":["GravityFormConstants","SubmitGravityForm","formId","jsonObject","processResults","extraValue","fullUrl","rootUrl","fetch","method","headers","authString","body","JSON","stringify","then","res","ok","json","Error","statusText","success","errorMsg","catch","error"],"mappings":"AAAA,SAASA,oBAAT,QAAqC,0BAArC;;AAEA,MAAMC,iBAAiB,GAAG,OAAOC,MAAP,EAAeC,UAAf,EAA2BC,cAA3B,EAA2CC,UAA3C,KAA0D;AACnF,MAAIC,OAAO,GAAI,GAAEN,oBAAoB,CAACO,OAAQ,UAASL,MAAO,UAA9D;AAEAC,EAAAA,UAAU,CAAC,SAAD,CAAV,GAAwBD,MAAxB,CAHmF,CAGnD;AAChC;;AAEAM,EAAAA,KAAK,CAACF,OAAD,EAAU;AACdG,IAAAA,MAAM,EAAE,MADM;AAEdC,IAAAA,OAAO,EAAE;AACR,sBAAgB,kBADR;AAER,uBAAkB,SAAQV,oBAAoB,CAACW,UAAW;AAFlD,KAFK;AAMdC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,UAAf;AANQ,GAAV,CAAL,CAQCY,IARD,CAQMC,GAAG,IAAI;AACZ,QAAIA,GAAG,CAACC,EAAR,EAAY;AACX,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACA,KAFD,MAEO;AACN,YAAMC,KAAK,CAACH,GAAG,CAACI,UAAL,CAAX;AACA;AACD,GAdD,EAeCL,IAfD,CAeMG,IAAI,IAAI;AACbd,IAAAA,cAAc,CAAC;AACdiB,MAAAA,OAAO,EAAE,IADK;AAEdC,MAAAA,QAAQ,EAAE,EAFI;AAGdjB,MAAAA,UAAU,EAAEA;AAHE,KAAD,CAAd;AAKA,GArBD,EAsBCkB,KAtBD,CAsBOC,KAAK,IAAI;AACfpB,IAAAA,cAAc,CAAC;AACdiB,MAAAA,OAAO,EAAE,KADK;AAEdC,MAAAA,QAAQ,EAAEE,KAFI;AAGdnB,MAAAA,UAAU,EAAEA;AAHE,KAAD,CAAd;AAKA,GA5BD;AA6BA,CAnCD;;AAqCA,eAAeJ,iBAAf","sourcesContent":["import { GravityFormConstants } from '../GravityFormsConstants';\n\nconst SubmitGravityForm = async (formId, jsonObject, processResults, extraValue) => {\n\tvar fullUrl = `${GravityFormConstants.rootUrl}/forms/${formId}/entries`;\n\n\tjsonObject['form_id'] = formId; // append the form ID to the collection\n\t// console.log('jsonObject', jsonObject);\n\n\tfetch(fullUrl, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Basic ${GravityFormConstants.authString}`\n\t\t},\n\t\tbody: JSON.stringify(jsonObject)\n\t})\n\t.then(res => {\n\t\tif (res.ok) {\n\t\t\treturn res.json();\n\t\t} else {\n\t\t\tthrow Error(res.statusText);\n\t\t}\n\t})\n\t.then(json => {\n\t\tprocessResults({\n\t\t\tsuccess: true,\n\t\t\terrorMsg: '',\n\t\t\textraValue: extraValue\n\t\t});\n\t})\n\t.catch(error => {\n\t\tprocessResults({\n\t\t\tsuccess: false,\n\t\t\terrorMsg: error,\n\t\t\textraValue: extraValue\n\t\t});\n\t});\n}\n\nexport default SubmitGravityForm;\n"]},"metadata":{},"sourceType":"module"}