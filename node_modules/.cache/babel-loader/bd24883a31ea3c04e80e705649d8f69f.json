{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phil\\\\OneDrive\\\\Documents\\\\reliant\\\\code\\\\narwhal-digital-reliant-wp\\\\src\\\\components\\\\CategoriesListing\\\\index.js\";\nimport React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Link } from 'react-router-dom';\nimport gql from 'graphql-tag';\nimport ErrorBoundary from '../ErrorBoundary';\nimport { MakeRelativePath } from '../../utils/UrlUtils';\nimport { UnescapeText } from '../../utils/TextHelpers';\n\nconst CategoriesListing = props => {\n  const CATEGORY_QUERY = gql`\n\t\tquery GET_CATEGORIES {\n\t\t\tcategories {\n\t\t\t\tedges {\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tcategoryId\n\t\t\t\t\t\tname\n\t\t\t\t\t\tlink\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`;\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(CATEGORY_QUERY, {});\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 10\n      }\n    });\n  }\n\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 20\n    }\n  }, \"Error loading categories\");\n  if (!data.categories.edges) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 37\n    }\n  }, \"Error loading category data\");\n  const edges = data.categories.edges;\n  return /*#__PURE__*/React.createElement(ErrorBoundary, {\n    message: `Unable to load categories`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categories-listing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, \"CATEGORIES\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"categories-listing__listing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, edges.map(category => /*#__PURE__*/React.createElement(\"li\", {\n    key: `cat-${category.node.categoryId}`,\n    className: \"categories-listing__listing__item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `${MakeRelativePath(category.node.link)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 10\n    }\n  }, UnescapeText(category.node.name))))))));\n};\n\nexport default CategoriesListing;","map":{"version":3,"sources":["C:/Users/phil/OneDrive/Documents/reliant/code/narwhal-digital-reliant-wp/src/components/CategoriesListing/index.js"],"names":["React","useQuery","Link","gql","ErrorBoundary","MakeRelativePath","UnescapeText","CategoriesListing","props","CATEGORY_QUERY","loading","error","data","categories","edges","map","category","node","categoryId","link","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AACA,SAASC,YAAT,QAA6B,yBAA7B;;AAEA,MAAMC,iBAAiB,GAAGC,KAAK,IAAI;AAElC,QAAMC,cAAc,GAAGN,GAAI;;;;;;;;;;;;;EAA3B;AAeA,QAAM;AAAEO,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BX,QAAQ,CAACQ,cAAD,EAAiB,EAAjB,CAAzC;;AAEA,MAAIC,OAAJ,EAAa;AACZ,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACA;;AACD,MAAIC,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAP;AACX,MAAI,CAACC,IAAI,CAACC,UAAL,CAAgBC,KAArB,EAA4B,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAP;AAE5B,QAAMA,KAAK,GAAGF,IAAI,CAACC,UAAL,CAAgBC,KAA9B;AAEA,sBACC,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAG,2BAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAM,IAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAI,IAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEEA,KAAK,CAACC,GAAN,CAAUC,QAAQ,iBACjB;AAAI,IAAA,GAAG,EAAG,OAAMA,QAAQ,CAACC,IAAT,CAAcC,UAAW,EAAzC;AACC,IAAA,SAAS,EAAC,mCADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEC,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,GAAEb,gBAAgB,CAACW,QAAQ,CAACC,IAAT,CAAcE,IAAf,CAAqB,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOb,YAAY,CAACU,QAAQ,CAACC,IAAT,CAAcG,IAAf,CAAnB,CADD,CAFD,CADD,CAFF,CAFD,CADD,CADD;AAmBA,CA9CD;;AAgDA,eAAeb,iBAAf","sourcesContent":["import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Link } from 'react-router-dom';\nimport gql from 'graphql-tag';\nimport ErrorBoundary from '../ErrorBoundary';\nimport { MakeRelativePath } from '../../utils/UrlUtils';\nimport { UnescapeText } from '../../utils/TextHelpers';\n\nconst CategoriesListing = props => {\n\n\tconst CATEGORY_QUERY = gql`\n\t\tquery GET_CATEGORIES {\n\t\t\tcategories {\n\t\t\t\tedges {\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tcategoryId\n\t\t\t\t\t\tname\n\t\t\t\t\t\tlink\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`;\n\n\tconst { loading, error, data } = useQuery(CATEGORY_QUERY, {});\n\n\tif (loading) {\n\t\treturn <p></p>;\n\t}\n\tif (error) return <p>Error loading categories</p>;\n\tif (!data.categories.edges) return <p>Error loading category data</p>;\n\n\tconst edges = data.categories.edges;\n\n\treturn (\n\t\t<ErrorBoundary message={`Unable to load categories`}>\n\t\t\t<div className='categories-listing'>\n\t\t\t\t<span className=\"small\">CATEGORIES</span>\n\t\t\t\t<ul className='categories-listing__listing'>\n\t\t\t\t\t{\n\t\t\t\t\t\tedges.map(category => (\n\t\t\t\t\t\t\t<li key={`cat-${category.node.categoryId}`}\n\t\t\t\t\t\t\t\tclassName='categories-listing__listing__item'>\n\t\t\t\t\t\t\t\t<Link to={`${MakeRelativePath(category.node.link)}`}>\n\t\t\t\t\t\t\t\t\t<span>{UnescapeText(category.node.name)}</span>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</ErrorBoundary>\n\t)\n}\n\nexport default CategoriesListing;\n"]},"metadata":{},"sourceType":"module"}