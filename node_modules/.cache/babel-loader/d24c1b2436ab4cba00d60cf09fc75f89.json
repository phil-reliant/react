{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phil\\\\OneDrive\\\\Documents\\\\reliant\\\\code\\\\narwhal-digital-reliant-wp\\\\src\\\\components\\\\RecentPosts\\\\index.js\";\nimport React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Link } from 'react-router-dom';\nimport gql from 'graphql-tag';\nimport ErrorBoundary from '../ErrorBoundary';\nimport RightArrow from '../../assets/svgs/right-arrow';\nimport { CategoriesToString } from '../../utils/CategoryHelpers';\nimport { UnescapeText } from '../../utils/TextHelpers';\nimport { MakeRelativePath } from '../../utils/UrlUtils';\n\nconst RecentPosts = props => {\n  const PostCountToShow = 2;\n  const RECENT_POSTS_QUERY = gql`\n\t\tquery GET_POSTS($first: Int, $after: String) {\n\t\t\tposts(first: $first, after: $after) {\n\t\t\t\tpageInfo {\n\t\t\t\t\thasNextPage\n\t\t\t\t\tendCursor\n\t\t\t\t}\n\t\t\t\tedges {\n\t\t\t\t\tcursor\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tdate\n\t\t\t\t\t\tcategories {\n\t\t\t\t\t\t\tedges {\n\t\t\t\t\t\t\t  node {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\texcerpt\n\t\t\t\t\t\tlink\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`;\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(RECENT_POSTS_QUERY, {\n    variables: {\n      first: PostCountToShow,\n      after: null\n    }\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 10\n      }\n    });\n  }\n\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 20\n    }\n  }, \"Error loading recent posts\");\n  if (!data.posts.edges) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 32\n    }\n  }, \"Error loading recent posts data\");\n  const edges = data.posts.edges;\n  return /*#__PURE__*/React.createElement(ErrorBoundary, {\n    message: `Unable to load recent posts`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recent-posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recent-posts__listing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, edges.map(post => /*#__PURE__*/React.createElement(\"div\", {\n    key: `post-${post.node.id}`,\n    className: \"recent-posts__listing__item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recent-posts__listing__item__category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 64\n    }\n  }, CategoriesToString(post.node.categories))), /*#__PURE__*/React.createElement(Link, {\n    className: \"recent-posts__listing__item__heading\",\n    to: `${MakeRelativePath(post.node.link)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"h7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 10\n    }\n  }, UnescapeText(post.node.title))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recent-posts__listing__item__body\",\n    dangerouslySetInnerHTML: {\n      __html: post.node.excerpt\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: `${MakeRelativePath(post.node.link)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RightArrow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 10\n    }\n  })))))));\n};\n\nexport default RecentPosts;","map":{"version":3,"sources":["C:/Users/phil/OneDrive/Documents/reliant/code/narwhal-digital-reliant-wp/src/components/RecentPosts/index.js"],"names":["React","useQuery","Link","gql","ErrorBoundary","RightArrow","CategoriesToString","UnescapeText","MakeRelativePath","RecentPosts","props","PostCountToShow","RECENT_POSTS_QUERY","loading","error","data","variables","first","after","posts","edges","map","post","node","id","categories","link","title","__html","excerpt"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Link } from 'react-router-dom';\nimport gql from 'graphql-tag';\nimport ErrorBoundary from '../ErrorBoundary';\nimport RightArrow from '../../assets/svgs/right-arrow';\nimport { CategoriesToString } from '../../utils/CategoryHelpers';\nimport { UnescapeText } from '../../utils/TextHelpers';\nimport { MakeRelativePath } from '../../utils/UrlUtils';\n\nconst RecentPosts = props => {\n\n\tconst PostCountToShow = 2;\n\n\tconst RECENT_POSTS_QUERY = gql`\n\t\tquery GET_POSTS($first: Int, $after: String) {\n\t\t\tposts(first: $first, after: $after) {\n\t\t\t\tpageInfo {\n\t\t\t\t\thasNextPage\n\t\t\t\t\tendCursor\n\t\t\t\t}\n\t\t\t\tedges {\n\t\t\t\t\tcursor\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tdate\n\t\t\t\t\t\tcategories {\n\t\t\t\t\t\t\tedges {\n\t\t\t\t\t\t\t  node {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\texcerpt\n\t\t\t\t\t\tlink\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`;\n\n\tconst { loading, error, data } = useQuery(RECENT_POSTS_QUERY, {\n\t\tvariables: {\n\t\t\tfirst: PostCountToShow,\n\t\t\tafter: null\n\t\t}\n\t});\n\n\tif (loading) {\n\t\treturn <p></p>\n\t}\n\tif (error) return <p>Error loading recent posts</p>;\n\tif (!data.posts.edges) return <p>Error loading recent posts data</p>;\n\n\tconst edges = data.posts.edges;\n\n\treturn (\n\t\t<ErrorBoundary message={`Unable to load recent posts`}>\n\t\t\t<div className='recent-posts'>\n\t\t\t\t<div className='recent-posts__listing'>\n\t\t\t\t\t{\n\t\t\t\t\t\tedges.map(post => (\n\t\t\t\t\t\t\t<div key={`post-${post.node.id}`} className='recent-posts__listing__item'>\n\t\t\t\t\t\t\t\t<div className='recent-posts__listing__item__category'><span className=\"small\">{CategoriesToString(post.node.categories)}</span></div>\n\t\t\t\t\t\t\t\t<Link className='recent-posts__listing__item__heading'\n\t\t\t\t\t\t\t\t\tto={`${MakeRelativePath(post.node.link)}`}>\n\t\t\t\t\t\t\t\t\t<h6 className='h7'>{UnescapeText(post.node.title)}</h6>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<div className='recent-posts__listing__item__body'\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{__html: post.node.excerpt}} />\n\t\t\t\t\t\t\t\t<Link to={`${MakeRelativePath(post.node.link)}`}>\n\t\t\t\t\t\t\t\t\t<RightArrow />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ErrorBoundary>\n\t)\n}\n\nexport default RecentPosts;\n"]},"metadata":{},"sourceType":"module"}